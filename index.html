<html>
    <head>
        <title>Socket.IO chat</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="container" style="border:1px solid #cecece;">
            <div class="row justify-content-center">
              <div class="col-sm-3 col-xs-offset-4">
            
            <table class="table table-striped">
                  <tr>
                    <td> <ul id="messages" type="none"></ul></td>
                  </tr>
            </table>
       
        <form id="form" action="" class="form-inline">
        <input id="input" autocomplete="off" class="form-control"><button type="submit" class="btn btn-primary">Send</button>
        </form>

              </div>
            </div>
            </div>

        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket=io();

            var messages=document.getElementById('messages');
            var form=document.getElementById('form');
            var input=document.getElementById('input');

            form.addEventListener('submit',function(e){
                e.preventDefault();
                if (input.value){
                    socket.emit('chat message',input.value);
                    input.value='';
                }
            });

            socket.on('chat message',(msg) =>{
                var item=document.createElement('li');
                item.textContent=msg;
                messages.appendChild(item);
                window.scrollTo(0, document.body.scrollHeight);
            });

        </script>
    </body>
</html>